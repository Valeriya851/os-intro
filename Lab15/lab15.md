---
# Front matter
lang: ru-RU
title: "Отчет по лабораторной работе №15"

author: "Тулеева Валерия, НБИбд-01-20"

# Formatting
toc_depth: 2
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: lualatex
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---
РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ

Факультет физико-математических и естественных наук
Кафедра прикладной информатики и теории вероятностей







# ***Именованные каналы***

# **Оглавление:**

1.	Введение:
  a) Цель работы
2.	Описание результатов выполнения задания;
3.	Библиография;
4.	Вывод;
5.	Контрольные вопросы.

























# **Введение:**

Одним из видов взаимодействия между процессами в операционных системах является обмен сообщениями. Под сообщением понимается последовательность байтов, передаваемая от одного процесса другому.

В операционных системах типа UNIX есть 3 вида межпроцессорных взаимодействий: общеюниксные (именованные каналы, сигналы), System V Interface Definition (SVID — разделяемая память, очередь сообщений, семафоры) и BSD (со- кеты).

Для передачи данных между неродственными процессами можно использовать механизм именованных каналов (named pipes). Данные передаются по принципу FIFO (First In First Out) (первым записан — первым прочитан), поэтому они называются также FIFO pipes или просто FIFO. Именованные каналы отличаются от неименованных наличием идентификатора канала, который представлен как специальный файл (соответственно имя именованного канала — это имя файла). По-]скольку файл находится на локальной файловой системе, данное IPC используется внутри одной системы.

Файлы именованных каналов создаются функцией mkfifo(3).

#include <sys/types.h>

#include <sys/stat.h>

int mkfifo(const char *pathname, mode_t mode);

Первый параметр — имя файла, идентифицирующего канал, второй параметр — маска прав доступа к файлу.

Каналы представляют собой простое и удобное средство передачи данных, которое, однако, подходит не во всех ситуациях. Например, с помощью каналов довольно трудно организовать обмен асинхронными сообщениями между процессами.
[Источник](https://esystem.rudn.ru/pluginfile.php/1142529/mod_resource/content/1/013-ipc-fifo.pdf)


# **Цель работы:**

Приобретение практических навыков работы с именованными каналами.

# **Описание результатов выполнения задания:**


1.  Изучила информацию о ```mc```, вызвав в командной строке ```man mc```*(рис 1.1 и 1.2)*:

```man mc```

   ![]()
   
   ![]()
   
*Рис 1.1 и 1.2. Изучение информации о команде ```mc```*

2.	 Запустила из командной строки ```mc```, изучила структуру и меню *(рис 2.1 и 2.2)*:

```mc```
 
 ![]()
 
 ![]()
 
*Рис 2.1 и 2.2. Вызов ```mc```*

Меню пользователя *(рис 2.3)*:

![]()

*Рис 2.3. Меню пользователя*


3.	Выполнила несколько операций в ```mc```, используя управляющие клавиши: *(рис 3.1)*

```F1``` Вызов контекстно-зависимой подсказки

```F2``` Вызов пользовательского меню с возможностью создания и/или дополнения дополнительных функций

```F3``` Просмотр содержимого файла, на который указывает подсветка в активной панели (без возможности редактирования)

```F4``` Вызов встроенного в mc редактора для изменения содержания файла, на который указывает подсветка в активной панели

```F5``` Копирование одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

```F6``` Перенос одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

```F7``` Создание подкаталога в каталоге, отображаемом в активной панели

```F8``` Удаление одного или нескольких файлов (каталогов), отмеченных в первой (активной) панели файлов

```F9``` Вызов меню mc

```F10``` Выход из mc
 
 
4.  Выполнила основные команды меню левой панели *(рис 4.1)*: `

![]()

*Рис 4.1. Левая панель*

Информация о файле *(рис 4.2)*:

  ![]()
  
 *Рис 4.2. Информация*
 
 Дерево каталогов *(рис 4.3)*:
 
 ![]()
 
 *Рис 4.3. Дерево каталогов*
 
 Формат списка файлов *(рис 4.4)*:
 
 ![]()
 
 *Рис 4.4. Формат списка файлов*
 
 
5.	Использовала возможности подменю ```Файл```: *(рис 5.1)*
 
 ![]()
 
*Рис 5.1. Подменю ```Файл```*

- Просмотрела содержимое текстового файла *(рис 5.2 и 5.3)*:

![]()

![]()

*Рис 5.2 и 5.3. Просмотр содержимого текстового файла*

- Отредактировала содержимое текстового файла, добавила hello и hi *(рис 5.4 и 5.5)*:

![]()

![]()

*Рис 5.4 и 5.5. Правка содержимого файла*

- Создала каталог hello *(рис 5.6 и 5.7)*:

![]()

![]()

*Рис 5.6 и 5.7. Создание каталога*

- Скопировала файл в созданный каталог *(рис 5.8 и 5.9)*:

![]()

![]()

*Рис 5.8 и 5.9. Копирование файлов в каталог*


6.	С помощью соответствующих средств подменю ```Команда``` выполнила задания *(рис 6.1)*:

 ![]()
 
*Рис 6.1. Подменю ```Команда```*

- Нашла в файловой системе файл с заданными условиями (с расширением .cpp + строка main) *(рис 6.2 и 6.3)*:

![]()

![]()

*Рис 6.2 и 6.3. Нахождение файла с заданными условиями*

- История операций + выбор одной из них *(рис 6.4)*:

![]()

*Рис 6.4. История*

- Перешла в домашний каталог *(рис 6.5 и 6.6)*:

![]()

![]()

*Рис 6.5 и 6.6. Переход в домашний каталог*

- Анализ файла ```profile``` и файла ```bash``` *(рис 6.7)*:

![]()

*Рис 6.7. Сравнение*

7.	Вызвала подменю ```Настройки```: *(рис 7.1)*

 ![]()
 
*Рис 7.1. Подменю ```Настройки```*

- Параметры конфигурации *(рис 7.2)*:

![]()

*Рис 7.2. Параметры конфигурации*

- Внешний вид *(рис 7.3)*:

![]()

*Рис 7.3. Внешний вид*

- Настройки панели *(рис 7.4)*:

![]()

*Рис 7.4. Настройки панели*

- Оформление *(рис 7.5)*:

![]()

*Рис 7.5. Оформление*

- Настройки виртуальной файловой системы *(рис 7.6)*:

![]()

*Рис 7.6. Настройки виртуальной файловой системы*



# Задание по встроенному редактору mc

8.	Создала новый текстовый файл ```file1.txt```:

```touch file1.txt```


9.  Открыла этот файл с помощью встроенного в mc редактора: 

```F4```
 

10.	 Вставила в текстовый файл фрагмент текста про львов и выполнила с ним следующие задания:


**Клавиши для редактирования файла**

```Ctrl-y``` удалить строку

```Ctrl-u``` отмена последней операции

```Ins``` вставка/замена

```F7``` поиск (можно использовать регулярные выражения)

```^-F7``` повтор последней операции поиска

```F4``` замена

```F3``` первое нажатие — начало выделения, второе — окончание выделения

```F5``` копировать выделенный фрагмент

```F6``` переместить выделенный фрагмент

```F8``` удалить выделенный фрагмент

```F2``` записать изменения в файл

```F10``` выйти из редактора


Выполнила с текстовым файлом следующие действия *(рис 10.1)*:

- Удалила строку текста.

- Выделила фрагмент текста и скопируйте его на новую строку.

- Выделила фрагмент текста и перенесите его на новую строку.

- Сохранила файл.

- Отменила последнее действие.

- Перешла в конец файла (нажав комбинацию клавиш) и написала некоторый текст *(рис 10.2)*.

- Перешла в начало файла (нажав комбинацию клавиш) и написала некоторый текст *(рис 10.3)*.

- Сохранила и закроыла файл *(рис 10.4 и 10.5, 10.6)*

![]()

*Рис 10.1. Итог работы с текстовым файлом*


![]()

*Рис 10.2. Переход в конец файла и добавление текста*


![]()

*Рис 10.3. Переход в начало файла и добавление текста*

Сохранение и завершение файла:

![]()

![]()

![]()

*Рис 10.4. 10.5, 10.6. Сохранение и завершение*

11.	Открыла файл с исходным текстом на языке С и используя меню редактора включила подстветку синтаксиса.

# **Библиография:**

1. [Источник](https://esystem.rudn.ru/pluginfile.php/1142529/mod_resource/content/1/013-ipc-fifo.pdf)


# **Вывод:**

В данной лабораторной работе, я приобрела практические навыки работы с именованными каналами.



# **Контрольные вопросы (лабораторная работа №15)**

*1. В чем ключевое отличие именованных каналов от неименованных?* 


*2.	Возможно ли создание неименованного канала из командной строки?*



*3.	Возможно ли создание именованного канала из командной строки?*





*4.	Опишите функцию языка С, создающую неименованный канал.* 


 
*5. Опишите функцию языка С, создающую именованный канал.* 



*6. Что будет в случае прочтения из fifo меньшего числа байтов, чем находится в канале? Большего числа байтов?* 
 



*7.	Аналогично, что будет в случае записи в fifo меньшего числа байтов, чем позволяет буфер? Большего числа байтов?* 



*8.	Могут ли два и более процессов читать или записывать в канал?*


*9. Опишите функцию write (тип возвращаемого значения, аргументы и логику работы). Что означает 1 (единица) в вызове этой функции в программе server.c
(строка 42)?*


*10. Опишите функцию strerror.*
